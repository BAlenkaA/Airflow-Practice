# Airflow-Practice
## Airflow-Practice - проект для выгрузки данных из бд Postgres, объединения их и сохранения в объектное хранилище данных в виде файла csv. </br>
### Проект создан в целях отработки навыков работы с Airflow Apache.  </br>
Стек используемых технологий:
1. Airflow Apache v2.0.1,
2. Docker compose
3. PostgresSQL
4. Celery
5. Flower
6. MinIO
---
### Для развертывания приложения необходимо:
1. Установить Docker. В документации Airflow Apache сообщается, что в зависимости от вашей операционной системы вам может потребоваться настроить Docker на использование не менее 4,00 ГБ памяти для правильной работы контейнеров Airflow
2. Установить Docker Compose версии не ниже 2.14.0
3. Сохраните файл docker-compose.yaml
Файл содержит несколько сервисов:
* postgres: metadata database
* db-postgres1 и db-postgres2: бд, из которых будут забираться данные для объединения и создания файла csv
* redis: брокер, пересылающий сообщения от планировщика к воркеру
* airflow-webserver: веб-сервер, доступный по адресу http://localhost:8080
* airflow-scheduler: планировщик, отслеживающий все DAGи
* airflow-worker: воркер, выполняющий задачи, поставленные планировщиком. Будет использоваться Celery
* airflow-init: инициализация настройки, подготовка бд
* flower: веб приложение для мониторинга и администрирования задач Celery, доступный по адресу http://localhost:5555
* s3: объектное хранилище, в котором будут лежать созданные csv файлы
5. 
6. 
